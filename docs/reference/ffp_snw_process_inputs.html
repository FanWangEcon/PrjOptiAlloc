<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Solving optimal allocation for Nygaard, Sorernsen and Wang (2020) given
MPC and C simulation results. — ffp_snw_process_inputs • Optimal Allocation</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Solving optimal allocation for Nygaard, Sorernsen and Wang (2020) given
MPC and C simulation results. — ffp_snw_process_inputs"><meta property="og:description" content="First solve the model inside Matlab with code documented
here: https://fanwangecon.github.io/PrjOptiSNW/ from the paper
Nygaard, Sorernsen and Wang (2020)
(https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890). This
model generates for households with varying income level, kids count, and
marital status, the marginal propensity to consume different check
increments, and consumption without stimulus checks. Also generates
life-time value/welfare in the absence and with stimulus checks. This
function then solves the optimal allocation problem given these inputs.
Various parameters here determine the path to the csv file where
simulation results are stored/outputted from matlab, and various variable
names in the files, various allocation constraints on how much a
household with certain child count and marital status can receive in
terms of stimulus checks, and parameters relating to planner preferences."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-92953468-10"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-92953468-10');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Optimal Allocation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/index.html">Tutorials</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Papers
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890" class="external-link">Optimal Allocations to Heterogeneous Agents with An Application to Stimulus Checks</a>
    </li>
    <li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3691091" class="external-link">Optimal Allocation of the COVID-19 Stimulus Checks</a>
    </li>
    <li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3547706" class="external-link">The Optimal Allocation of Resources among Heterogeneous Individuals</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Sites
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://fanwangecon.github.io/REconTools/" class="external-link">R Tools for Data and Optimization</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/R4Econ/" class="external-link">R Examples Data and Optimization</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Stat4Econ/" class="external-link">R Examples Introductory Statistics</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Stata4Econ/" class="external-link">Stata Examples Regressions and Tables</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/M4Econ/" class="external-link">Matlab Examples Matrix and Graphs</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Math4Econ/" class="external-link">Matlab Introductory Math for Econ</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Tex4Econ/" class="external-link">Latex and Paper Generation Examples</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/pyfan/" class="external-link">Python Examples</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/fanwangecon/PrjOptiAlloc" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/fanwangecon" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Solving optimal allocation for Nygaard, Sorernsen and Wang (2020) given
MPC and C simulation results.</h1>
    <small class="dont-index">Source: <a href="https://github.com/FanWangEcon/PrjOptiAlloc/blob/HEAD/R/ffp_snw_welfarechecks_input.R" class="external-link"><code>R/ffp_snw_welfarechecks_input.R</code></a></small>
    <div class="hidden name"><code>ffp_snw_process_inputs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>First solve the model inside Matlab with code documented
here: <a href="https://fanwangecon.github.io/PrjOptiSNW/" class="external-link">https://fanwangecon.github.io/PrjOptiSNW/</a> from the paper
Nygaard, Sorernsen and Wang (2020)
(<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890" class="external-link">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890</a>). This
model generates for households with varying income level, kids count, and
marital status, the marginal propensity to consume different check
increments, and consumption without stimulus checks. Also generates
life-time value/welfare in the absence and with stimulus checks. This
function then solves the optimal allocation problem given these inputs.</p>
<p>Various parameters here determine the path to the csv file where
simulation results are stored/outputted from matlab, and various variable
names in the files, various allocation constraints on how much a
household with certain child count and marital status can receive in
terms of stimulus checks, and parameters relating to planner preferences.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ffp_snw_process_inputs</span><span class="op">(</span>
 
    srt_simu_path <span class="op">=</span> <span class="st">"C:/Users/fan/Documents/Dropbox (UH-ECON)/PrjNygaardSorensenWang/Output/"</span>,
  snm_simu_csv <span class="op">=</span> <span class="st">"snwx_v_planner_moredense_a100zh266_e2m2.csv"</span>,
  df_plan_v_tilde_full <span class="op">=</span> <span class="cn">NULL</span>,
  fl_max_phaseout <span class="op">=</span> <span class="fl">238000</span>,
  it_bin_dollar_before_phaseout <span class="op">=</span> <span class="fl">2500</span>,
  fl_percheck_dollar <span class="op">=</span> <span class="fl">100</span>,
  fl_multiple <span class="op">=</span> <span class="fl">58056</span>,
  it_max_checks <span class="op">=</span> <span class="fl">44</span>,
  fl_tax_hh <span class="op">=</span> <span class="fl">128580000</span>,
  bl_per_capita <span class="op">=</span> <span class="cn">FALSE</span>,
  it_max_age <span class="op">=</span> <span class="fl">64</span>,
  it_min_age <span class="op">=</span> <span class="fl">18</span>,
  it_age_bins <span class="op">=</span> <span class="fl">2</span>,
  fl_rand_adj_A_prop <span class="op">=</span> <span class="fl">0</span>,
  it_rand_adj_A_rng_seed <span class="op">=</span> <span class="fl">0</span>,
  ar_svr_csv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"marital"</span>, <span class="st">"kids"</span>, <span class="st">"checks"</span>, <span class="st">"ymin"</span>, <span class="st">"mass"</span>, <span class="st">"survive"</span>,
    <span class="st">"vtilde"</span>, <span class="st">"ctilde"</span><span class="op">)</span>,
  ar_svr_groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"marital"</span>, <span class="st">"kids"</span>, <span class="st">"age_group"</span>, <span class="st">"ymin_group"</span><span class="op">)</span>,
  ar_svr_groups_stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mass"</span>, <span class="st">"survive"</span><span class="op">)</span>,
  svr_checks <span class="op">=</span> <span class="st">"checks"</span>,
  svr_v_value <span class="op">=</span> <span class="st">"vtilde"</span>,
  svr_c_value <span class="op">=</span> <span class="st">"ctilde"</span>,
  svr_mass <span class="op">=</span> <span class="st">"mass"</span>,
  ar_rho <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,
  bl_df_alloc_il <span class="op">=</span> <span class="cn">FALSE</span>,
  bl_return_allQ_V <span class="op">=</span> <span class="cn">FALSE</span>,
  bl_threshold <span class="op">=</span> <span class="cn">FALSE</span>,
  ls_stimulus_specs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>st_biden_or_trump <span class="op">=</span> <span class="st">"bidenchk"</span>, it_check_headorspouse <span class="op">=</span> <span class="fl">12</span>,
    it_check_perkids <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,
  bl_given_firstcheck <span class="op">=</span> <span class="cn">FALSE</span>,
  bl_non_inc_adjust <span class="op">=</span> <span class="cn">FALSE</span>,
  bl_print <span class="op">=</span> <span class="cn">TRUE</span>,
  bl_print_verbose <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>bl_per_capita</dt>
<dd><p>boolean per capita or not. If per capita, then
household size will determine the weight to assign to each household.
The consumptions should be divded by the household size, and the
weights should be expanded by it. For example, if two households, 1
with 2 members, 1 with 1 member. Then then consumption in the larger
household should first be divided by two. Then the weight should be 2/3
for the larger household, and 1/3 for the smaller household.</p></dd>
<dt>fl_rand_adj_A_prop</dt>
<dd><p>float a number larger than zero, it is the
standard deviation of the shock to be drawn to perturb the entire
vector for A/alpha, moving it up or down. If equal to zero, no effects.</p></dd>
<dt>it_rand_adj_A_rng_seed</dt>
<dd><p>random number seed for simulating
perturbation draws</p></dd>
</dl></div>
    <div id="author">
    <h2>Author</h2>
    <p>Fan Wang, <a href="http://fanwangecon.github.io" class="external-link">http://fanwangecon.github.io</a></p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://fanwangecon.github.io" class="external-link">Fan Wang</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

