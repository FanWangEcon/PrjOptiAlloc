<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Discrete Problem Resource Equivalent Variation Multiple Rhos — ffp_opt_anlyz_sodis_rev • Optimal Allocation</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Discrete Problem Resource Equivalent Variation Multiple Rhos — ffp_opt_anlyz_sodis_rev"><meta property="og:description" content="Welfare distance is very easy to compute given analytical
resource expansion path. For each planner preference, the solution does not
generate optimal allocation for a particular level of aggregate resources,
but generates queue of allocations that uniquely define allocation along
the entire resource expansion. Because of this, it is possible to trivially
compute value given optimal choices at each incremental point of the
resourc expansion path.
The value along the resource expansion path that is dependent on preference
is stored inside the df_queue_il_long_with_V dataframe's variable
svr_V_star_Q_il. Note in a normal problem the resource expansion
path goes up to infinity, but given the upper bounds in the individual
allocations, the resource expansion path is finite where the final point is
equivalent to the sum of maximum allocations across individuals. In the
resource expansion path dataframe df_queue_il_long_with_V,
additional variables needed are: svr_rho and svr_rho_val for
the \(\rho\) key and value; svr_inpalc which is the queue ranking
number, but is also equivalent to the current aggregate resource level. If
there are 2 individuals with in total at most 11 units of allocations, and
the problem was solved at three different plann preference levels, this
dataframe would have \(11 \cdot 3\) rows.
On the othe rhand, we need from dataframe df_input_ib information
on alternative allocations. If there are two individuals, this dataframe
would only have two rows. There are three variables needed: A_i_l0
for the needs at allocation equal to zero; alpha_o_i for the
effectiveness measured given cumulative observed allocation for each
individual \(i\); and also needed for value calculation beta_i.
Note that these are the three ingredients that are individual specific."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-92953468-10"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-92953468-10');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Optimal Allocation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/index.html">Tutorials</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Papers
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890" class="external-link">Optimal Allocations to Heterogeneous Agents with An Application to Stimulus Checks</a>
    </li>
    <li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3691091" class="external-link">Optimal Allocation of the COVID-19 Stimulus Checks</a>
    </li>
    <li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3547706" class="external-link">The Optimal Allocation of Resources among Heterogeneous Individuals</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Sites
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://fanwangecon.github.io/REconTools/" class="external-link">R Tools for Data and Optimization</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/R4Econ/" class="external-link">R Examples Data and Optimization</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Stat4Econ/" class="external-link">R Examples Introductory Statistics</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Stata4Econ/" class="external-link">Stata Examples Regressions and Tables</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/M4Econ/" class="external-link">Matlab Examples Matrix and Graphs</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Math4Econ/" class="external-link">Matlab Introductory Math for Econ</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Tex4Econ/" class="external-link">Latex and Paper Generation Examples</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/pyfan/" class="external-link">Python Examples</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/fanwangecon/PrjOptiAlloc" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/fanwangecon" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Discrete Problem Resource Equivalent Variation Multiple Rhos</h1>
    <small class="dont-index">Source: <a href="https://github.com/FanWangEcon/PrjOptiAlloc/blob/HEAD/R/ffp_opt_sodis_rev.R" class="external-link"><code>R/ffp_opt_sodis_rev.R</code></a></small>
    <div class="hidden name"><code>ffp_opt_anlyz_sodis_rev.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Welfare distance is very easy to compute given analytical
resource expansion path. For each planner preference, the solution does not
generate optimal allocation for a particular level of aggregate resources,
but generates queue of allocations that uniquely define allocation along
the entire resource expansion. Because of this, it is possible to trivially
compute value given optimal choices at each incremental point of the
resourc expansion path.</p>
<p>The value along the resource expansion path that is dependent on preference
is stored inside the <strong>df_queue_il_long_with_V</strong> dataframe's variable
<em>svr_V_star_Q_il</em>. Note in a normal problem the resource expansion
path goes up to infinity, but given the upper bounds in the individual
allocations, the resource expansion path is finite where the final point is
equivalent to the sum of maximum allocations across individuals. In the
resource expansion path dataframe <strong>df_queue_il_long_with_V</strong>,
additional variables needed are: <em>svr_rho</em> and <em>svr_rho_val</em> for
the \(\rho\) key and value; <em>svr_inpalc</em> which is the queue ranking
number, but is also equivalent to the current aggregate resource level. If
there are 2 individuals with in total at most 11 units of allocations, and
the problem was solved at three different plann preference levels, this
dataframe would have \(11 \cdot 3\) rows.</p>
<p>On the othe rhand, we need from dataframe <strong>df_input_ib</strong> information
on alternative allocations. If there are two individuals, this dataframe
would only have two rows. There are three variables needed: <em>A_i_l0</em>
for the needs at allocation equal to zero; <em>alpha_o_i</em> for the
effectiveness measured given cumulative observed allocation for each
individual \(i\); and also needed for value calculation <em>beta_i</em>.
Note that these are the three ingredients that are individual specific.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ffp_opt_anlyz_sodis_rev</span><span class="op">(</span>
  <span class="va">ar_rho</span>,
  <span class="va">it_w_agg</span>,
  <span class="va">df_input_ib</span>,
  <span class="va">df_queue_il_long_with_V</span>,
  svr_rho <span class="op">=</span> <span class="st">"rho"</span>,
  svr_rho_val <span class="op">=</span> <span class="st">"rho_val"</span>,
  svr_A_i_l0 <span class="op">=</span> <span class="st">"A_i_l0"</span>,
  svr_alpha_o_i <span class="op">=</span> <span class="st">"alpha_o_i"</span>,
  svr_inpalc <span class="op">=</span> <span class="st">"Q_il"</span>,
  svr_beta_i <span class="op">=</span> <span class="st">"beta_i"</span>,
  svr_measure_i <span class="op">=</span> <span class="cn">NA</span>,
  svr_mass_cumu_il <span class="op">=</span> <span class="st">"mass_cumu_il"</span>,
  svr_V_star_Q_il <span class="op">=</span> <span class="st">"V_star_Q_il"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ar_rho</dt>
<dd><p>array preferences for equality for the planner, each value
from negative infinity to 1</p></dd>
<dt>it_w_agg</dt>
<dd><p>integer data/observed aggregate resources,
\(\hat{W}^{o}\).</p></dd>
<dt>df_input_ib</dt>
<dd><p>dataframe of \(A_{0,i}\) and \(\alpha_{o,i}\),
constructed based on individual \(A\) without allocation, and the
cumulative aggregate effects of allocation given what is oboserved. The
dataframe needs three variables, \(A_{0,i}\), \(\alpha_{o,i}\) and
\(\beta_{i}\). Note that an ID variable is not needed. Because no
merging is needed. Also note that \(\rho\) values are not needed
because that will be supplied by <strong>df_queue_il_long_with_V</strong>.</p></dd>
<dt>df_queue_il_long_with_V</dt>
<dd><p>dataframe with optimal allocation resource
expansion results, including the value along resource expansion so that
observed value can be compared to.</p></dd>
<dt>svr_A_i_l0</dt>
<dd><p>string variable name in the <strong>df_input_ib</strong>
dataframe for \(A_{0,i}\).</p></dd>
<dt>svr_alpha_o_i</dt>
<dd><p>string variable name in the <strong>df_input_ib</strong>
dataframe for \(\alpha_{o,i}\).</p></dd>
</dl></div>
    <div id="references">
    <h2>References</h2>
    <p><a href="https://fanwangecon.github.io/PrjOptiAlloc/reference/ffp_opt_anlyz_sodis_rev.html">https://fanwangecon.github.io/PrjOptiAlloc/reference/ffp_opt_anlyz_sodis_rev.html</a>
<a href="https://fanwangecon.github.io/PrjOptiAlloc/articles/ffv_opt_sodis_rkone_casch_allrw.html">https://fanwangecon.github.io/PrjOptiAlloc/articles/ffv_opt_sodis_rkone_casch_allrw.html</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Fan Wang, <a href="http://fanwangecon.github.io" class="external-link">http://fanwangecon.github.io</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df_opt_caschool_input_ib</span><span class="op">)</span></span>
<span class="r-in"><span class="va">df_input_ib</span> <span class="op">&lt;-</span> <span class="va">df_opt_caschool_input_ib</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://fanwangecon.github.io" class="external-link">Fan Wang</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

