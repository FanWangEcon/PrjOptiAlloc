<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Given dataframe solve for stimulus across household types and find relaxed
policy bounds as defined by counterfactuals. — ffp_snw_stimulus_checks_bush_add2dfid • Optimal Allocation</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Given dataframe solve for stimulus across household types and find relaxed
policy bounds as defined by counterfactuals. — ffp_snw_stimulus_checks_bush_add2dfid"><meta property="og:description" content="Given dataframe solve for US Economic Recovery Act of 2008 Bush
 Stimulus Check amounts (tax-rebates) by household type and income array
 for Nygaard, Sorernsen and Wang (2021) for each household type. Also
 compute maximum allocation bounds based on tax-liability to consider
 alternatives to the actual stimulus (tax-rebate) policy.
We have a dataframe of households, where each household is defined by the
 number of kids in the household, marital status, and also income bin. Note
 that this is an income bin, not a specific income level. We computes an
 approximate income-bin (and marital status and kids count) specific
 stimulus amount by evaluating the stimulus checks function along a fine
 grid of income levels from the min to the max point of the income-bin, and
 simply take the average.
We do this first for the actual stimulus that households should receive
 under the Economic Stimulus Act of 2008. We then adjust parameters for the
 stimulus function and compute alternative max-stimulus bounds for each
 income bin."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-92953468-10"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-92953468-10');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Optimal Allocation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/index.html">Tutorials</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Papers
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3839890" class="external-link">Optimal Allocations to Heterogeneous Agents with An Application to Stimulus Checks</a>
    </li>
    <li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3691091" class="external-link">Optimal Allocation of the COVID-19 Stimulus Checks</a>
    </li>
    <li>
      <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3547706" class="external-link">The Optimal Allocation of Resources among Heterogeneous Individuals</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Sites
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://fanwangecon.github.io/REconTools/" class="external-link">R Tools for Data and Optimization</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/R4Econ/" class="external-link">R Examples Data and Optimization</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Stat4Econ/" class="external-link">R Examples Introductory Statistics</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Stata4Econ/" class="external-link">Stata Examples Regressions and Tables</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/M4Econ/" class="external-link">Matlab Examples Matrix and Graphs</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Math4Econ/" class="external-link">Matlab Introductory Math for Econ</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/Tex4Econ/" class="external-link">Latex and Paper Generation Examples</a>
    </li>
    <li>
      <a href="https://fanwangecon.github.io/pyfan/" class="external-link">Python Examples</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/fanwangecon/PrjOptiAlloc" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/fanwangecon" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Given dataframe solve for stimulus across household types and find relaxed
policy bounds as defined by counterfactuals.</h1>
    <small class="dont-index">Source: <a href="https://github.com/FanWangEcon/PrjOptiAlloc/blob/HEAD/R/ffp_snw_stimulus_bush_2008.R" class="external-link"><code>R/ffp_snw_stimulus_bush_2008.R</code></a></small>
    <div class="hidden name"><code>ffp_snw_stimulus_checks_bush_add2dfid.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given dataframe solve for US Economic Recovery Act of 2008 Bush
 Stimulus Check amounts (tax-rebates) by household type and income array
 for Nygaard, Sorernsen and Wang (2021) for each household type. Also
 compute maximum allocation bounds based on tax-liability to consider
 alternatives to the actual stimulus (tax-rebate) policy.</p>
<p>We have a dataframe of households, where each household is defined by the
 number of kids in the household, marital status, and also income bin. Note
 that this is an income bin, not a specific income level. We computes an
 approximate income-bin (and marital status and kids count) specific
 stimulus amount by evaluating the stimulus checks function along a fine
 grid of income levels from the min to the max point of the income-bin, and
 simply take the average.</p>
<p>We do this first for the actual stimulus that households should receive
 under the Economic Stimulus Act of 2008. We then adjust parameters for the
 stimulus function and compute alternative max-stimulus bounds for each
 income bin.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ffp_snw_stimulus_checks_bush_add2dfid</span><span class="op">(</span>
  <span class="va">df_id</span>,
  it_income_n_in_seg <span class="op">=</span> <span class="fl">100</span>,
  fl_multiple <span class="op">=</span> <span class="fl">54831</span>,
  fl_percheck_dollar <span class="op">=</span> <span class="fl">100</span>,
  fl_stimulus_child <span class="op">=</span> <span class="fl">300</span>,
  fl_stimulus_adult_min <span class="op">=</span> <span class="fl">300</span>,
  fl_stimulus_adult_max <span class="op">=</span> <span class="fl">600</span>,
  fl_per_adult_phase_out <span class="op">=</span> <span class="fl">75000</span>,
  fl_phase_out_per_dollar_income <span class="op">=</span> <span class="fl">0.05</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df_id</dt>
<dd><p>dataframe the dataframe that is generated at the start of the
allocation problem, it contains the individual id, marital status, kids
count, and a string varaible indicating lower and upper bound for current
household type's income bin.</p></dd>
<dt>it_income_n_in_seg</dt>
<dd><p>integer the number of points between min and max
income bounds for the current income bin at which to evaluate stimulus,
and to average.</p></dd>
<dt>fl_multiple</dt>
<dd><p>integer what is 1 unit in dollar in 2008, equal to 54831,
median income.</p></dd>
<dt>fl_percheck_dollar</dt>
<dd><p>integer we discretize the stimulus problem, how
much is each stimulus check in dollars?</p></dd>
<dt>fl_stimulus_child</dt>
<dd><p>float the amount of stimulus per child, note that
this is unrelated to the tax-liability issue.</p></dd>
<dt>fl_stimulus_adult_min</dt>
<dd><p>float the amount of minimum stimulus per adult
(for lower income households), even if tax liability is below this, so no
tax-rebate should be given, still provide this stimulus amount.</p></dd>
<dt>fl_stimulus_adult_max</dt>
<dd><p>float the amount of max stimulus per adult, in
another word, the maximum amount of tax-rebate.</p></dd>
<dt>fl_per_adult_phase_out</dt>
<dd><p>float the amount per-adult (household-head
only or household-head plus spouse) where phase-out for
stimulus/tax-rebate begin going down. 75k under the actual policy for
singles, and 150k for married.</p></dd>
<dt>fl_phase_out_per_dollar_income</dt>
<dd><p>for every addition dollar beyond the
phaseout point, how much stimulus/tax-rebate to reduce. 0.05 means for
every additional dollar of income, stimulus go down by 5 cents.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>an array of tax-liabilities for particular kids count and martial
 status along an array of income levels</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p><a href="https://fanwangecon.github.io/PrjOptiAlloc/articles/ffv_snw_stimulus_bush_2008.html">https://fanwangecon.github.io/PrjOptiAlloc/articles/ffv_snw_stimulus_bush_2008.html</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Fan Wang, <a href="http://fanwangecon.github.io" class="external-link">http://fanwangecon.github.io</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df_nsw_tiny_chk168_df_id</span><span class="op">)</span></span>
<span class="r-in"><span class="va">df_id</span> <span class="op">&lt;-</span> <span class="va">df_nsw_tiny_chk168_df_id</span></span>
<span class="r-in"><span class="va">it_income_n_in_seg</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span class="r-in"><span class="va">df_id_checkadded_actual</span> <span class="op">&lt;-</span> <span class="fu">ffp_snw_stimulus_checks_bush_add2dfid</span><span class="op">(</span><span class="va">df_id</span>, <span class="va">it_income_n_in_seg</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">'df_id_checkadded_actual'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "df_id_checkadded_actual"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">df_id_checkadded_actual</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 111 x 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     id_i bush_rebate bush_rebate_n_c~ marital  kids age_group ymin_group    mass</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1        398.                4       0     0 (17,64]   (0,0.363]  3.17<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2        600                 6       0     0 (17,64]   (0.363,0.~ 6.06<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     3        600                 6       0     0 (17,64]   (0.544,0.~ 9.94<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     4        600                 6       0     0 (17,64]   (0.725,0.~ 4.37<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     5        600                 6       0     0 (17,64]   (0.907,1.~ 5.08<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6        600                 6       0     0 (17,64]   (1.09,1.2~ 2.18<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     7        548.                5       0     0 (17,64]   (1.27,1.4~ 1.91<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     8        143.                1       0     0 (17,64]   (1.45,1.6~ 3.07<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     9          0                 0       0     0 (17,64]   (1.63,1.8~ 9.42<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    10          0                 0       0     0 (17,64]   (1.81,1.9~ 1.19<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ... with 101 more rows, and 3 more variables: hhsize &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   y_group_min &lt;dbl&gt;, y_group_max &lt;dbl&gt;</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://fanwangecon.github.io" class="external-link">Fan Wang</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

